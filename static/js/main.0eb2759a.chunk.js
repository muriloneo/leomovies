(this.webpackJsonpleomovies=this.webpackJsonpleomovies||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(20),s=n.n(a),i=(n(51),n(15)),o=n(13),l=(n(52),n.p+"static/media/logo.a45b284e.png"),u=n(0);function j(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(u.jsxs)("nav",{className:"header flex md-flex-row flex-column",children:[Object(u.jsxs)("div",{className:"flex justify-between",children:[Object(u.jsx)(o.b,{to:"/",className:"flex items-center logo no-underline",children:Object(u.jsx)("img",{className:"max-h-l2 w-auto",src:l,alt:"Logo"})}),Object(u.jsx)("button",{onClick:function(){c(!n)},type:"button",className:"link-button flex items-center ml-auto md-hidden",children:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"fas fa-bars",children:[Object(u.jsx)("line",{x1:3,y1:12,x2:21,y2:12}),Object(u.jsx)("line",{x1:3,y1:6,x2:21,y2:6}),Object(u.jsx)("line",{x1:3,y1:18,x2:21,y2:18})]})})]}),Object(u.jsxs)("div",{id:"nav-items",className:"".concat(!n&&"hidden"," flex sm-w-100pc flex-column md-flex md-flex-row md-justify-end items-center"),children:[Object(u.jsx)(o.b,{className:"menu-items",to:"/home",children:Object(u.jsx)("span",{children:"Home"})}),Object(u.jsx)(o.b,{className:"menu-items",to:"/favorites",children:Object(u.jsx)("span",{children:"Favorites"})}),Object(u.jsx)(o.b,{className:"menu-items",to:"/watch-later",children:Object(u.jsx)("span",{children:"Watch Later"})})]})]})}function d(e){var t=e.children;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{}),t]})}var b=n(12),h=n.n(b),O=n(14),f=n(6);function v(){return Object(u.jsxs)("div",{className:"info",children:["Click on any ",Object(u.jsx)("div",{className:"highlight",children:"Movie"})," to view more and set as Favorite or Watch Later"]})}var m={TOGGLE_FAVORITE:"TOGGLE_FAVORITE",CLEAR_FAVORITES:"CLEAR_FAVORITES"};var x="SET_WATCH_LATER",p="CLEAR_WATCH_LATER";var g=n.p+"static/media/no-poster.1a23639a.jpg",w=(n(64),function(e,t){return e.find((function(e){return e&&e.id===t}))}),N=function(e,t){return e.find((function(e){return e&&e.id===t}))};function y(e){var t=e.movie,n=Object(f.c)((function(e){return e.genres})).genres,r=Object(f.c)((function(e){return e.favorites})).favorites,c=Object(f.c)((function(e){return e.watchlater})).watchlater,a=Object(f.b)();function s(e){a(function(e){return{type:m.TOGGLE_FAVORITE,movie:e}}(e))}function i(e){a(function(e){return{type:x,movie:e}}(e))}return Object(u.jsx)("div",{className:"card md-w-33pc p-10",children:Object(u.jsxs)("figure",{children:[Object(u.jsxs)("div",{className:"img",children:[t.poster_path?Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(t.poster_path),alt:t.title}):Object(u.jsx)("img",{src:g,alt:t.title}),Object(u.jsxs)("figcaption",{children:[Object(u.jsx)("p",{className:"name",children:t.title}),Object(u.jsx)("i",{className:"far fa-star ".concat(w(r,t.id)&&"solid"),onClick:function(){return s(t)}}),Object(u.jsxs)("h4",{className:"rating",children:[t.vote_average," / 10"]}),t.genre_ids&&t.genre_ids.map((function(e,t){var r=function(e,t){if(e)return e.find((function(e){return e.id===t}))}(n,e);return Object(u.jsx)("h4",{children:r.name},"genre_h4_".concat(t))})),Object(u.jsxs)("button",{className:"details",onClick:function(){return i(t)},children:[Object(u.jsx)("i",{className:"far fa-clock ".concat(N(c,t.id)&&"solid")}),"Watch Later"]})]})]}),Object(u.jsx)("p",{children:t.title}),Object(u.jsx)("div",{className:"date",children:t.release_date})]})})}n(65);function _(e){var t=e.page,n=e.total_pages,r=e.changePage;return Object(u.jsxs)("div",{className:"paginate",children:[t>1&&Object(u.jsx)("button",{onClick:function(){return r(!1)},children:"Previous Page"}),t<n&&Object(u.jsx)("button",{onClick:function(){return r(!0)},children:"Next Page"})]})}function E(e){var t=e.handleSubmit,n=e.setQuery;return Object(u.jsx)("div",{className:"searchBar",children:Object(u.jsxs)("form",{onSubmit:t,children:[Object(u.jsx)("input",{type:"text",className:"input-lg",placeholder:"Search for a movie title",onChange:function(e){return n(e)},"data-testid":"input_search"}),Object(u.jsx)("button",{type:"submit",className:"button-lg","data-testid":"submit_search",children:"Search"})]})})}var L=n(22),k=n(41),T=n(46),R=n(45),A=n(42),S=n.n(A).a.create({baseURL:"https://api.themoviedb.org/3/",timeout:1e4,responseType:"json",params:{}});S.interceptors.response.use((function(e){return e.data}),(function(e){var t,n,r,c;if(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)throw new Error(null===(r=e.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.error);throw e})),S.interceptors.request.use((function(e){return e.params.language="en-US",e.params.include_adult=!1,e.params.api_key="89d87ee7cc60215fca051a79504f262a",e.params.query=e.query,e.params.page=e.page,e}));var F=new(function(e){Object(T.a)(n,e);var t=Object(R.a)(n);function n(e){return Object(L.a)(this,n),t.call(this)}return Object(k.a)(n,[{key:"listGenre",value:function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("genre/movie/list");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"searchByTitle",value:function(){var e=Object(O.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("search/movie",{query:t,page:n});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}((function e(){Object(L.a)(this,e),this.axiosInstance=S}))),C="START_LOAD_GENRE",I="FINISH_LOAD_GENRE",G="SET_GENRE",W="CLEAR_GENRE";n(84);function V(){var e,t,n=Object(r.useRef)(!0),c=Object(r.useState)(""),a=Object(i.a)(c,2),s=a[0],o=a[1],l=Object(r.useState)(1),j=Object(i.a)(l,2),d=j[0],b=j[1],m=Object(r.useState)({}),x=Object(i.a)(m,2),p=x[0],g=x[1],w=Object(r.useState)(!1),N=Object(i.a)(w,2),L=N[0],k=N[1],T=Object(f.b)(),R=Object(f.c)((function(e){return e.genres})),A=R.genres,S=R.loading,G=Object(r.useCallback)(Object(O.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo({top:0,behavior:"smooth"}),k(!0),e.next=4,F.searchByTitle(s,d);case 4:t=e.sent,g(t),k(!1);case 7:case"end":return e.stop()}}),e)}))),[s,d]);Object(r.useEffect)((function(){A||T(function(){var e=Object(O.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:C}),e.prev=1,e.next=4,F.listGenre();case 4:n=e.sent,r=n.genres,t({type:I,genres:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:I,error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[T,A]),Object(r.useEffect)((function(){n.current?n.current=!1:G()}),[d]);return S||L?Object(u.jsx)("h1",{className:"loading",children:"Loading..."}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("section",{className:"center",children:[Object(u.jsx)(E,{handleSubmit:function(e){e.preventDefault(),s.trim()&&G()},setQuery:function(e){o(e.target.value)}}),(null===p||void 0===p||null===(e=p.results)||void 0===e?void 0:e.length)>0?Object(u.jsx)(v,{}):(0===(null===p||void 0===p?void 0:p.total_results)||!p)&&Object(u.jsx)("div",{className:"info","data-testid":"no_movies",children:"No movies were found."})]}),(null===p||void 0===p||null===(t=p.results)||void 0===t?void 0:t.length)>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"flex flex-wrap","data-testid":"result_list",children:p.results.map((function(e,t){return Object(u.jsx)(y,{movie:e},"movie_".concat(t))}))}),Object(u.jsx)(_,{page:d,total_pages:p.total_pages,changePage:function(e){b(!0===e?d+1:d-1)}})]})]})}function P(){var e=Object(f.c)((function(e){return e.favorites})).favorites;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("section",{className:"center",children:[Object(u.jsx)("h1",{children:"Favorites List"}),(null===e||void 0===e?void 0:e.length)>0?Object(u.jsx)(v,{}):Object(u.jsx)("div",{className:"info",children:"No Movie on your Favorites!"})]}),(null===e||void 0===e?void 0:e.length)>0&&Object(u.jsx)("div",{className:"flex flex-wrap",children:e.map((function(e,t){return Object(u.jsx)(y,{movie:e},"movie_".concat(t))}))})]})}function B(){var e=Object(f.c)((function(e){return e.watchlater})).watchlater;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("section",{className:"center",children:[Object(u.jsx)("h1",{children:"Watch Later List"}),(null===e||void 0===e?void 0:e.length)>0?Object(u.jsx)(v,{}):Object(u.jsx)("div",{className:"info",children:"No Movie on your Watch Later List!"})]}),(null===e||void 0===e?void 0:e.length)>0&&Object(u.jsx)("div",{className:"flex flex-wrap",children:e.map((function(e,t){return Object(u.jsx)(y,{movie:e},"movie_".concat(t))}))})]})}n(85);function M(){return Object(u.jsxs)("div",{className:"alert alert-custom alert-warning",role:"alert",children:[Object(u.jsx)("div",{className:"alert-icon",children:Object(u.jsx)("i",{className:"fas fa-exclamation-triangle"})}),Object(u.jsx)("div",{className:"alert-text",children:"Page not found!"})]})}var q=n(4);function H(){return Object(u.jsx)(q.d,{children:Object(u.jsx)(d,{children:Object(u.jsxs)(q.d,{children:[Object(u.jsx)(q.b,{path:"/home",component:V}),Object(u.jsx)(q.b,{path:"/favorites",component:P}),Object(u.jsx)(q.b,{path:"/watch-later",component:B}),Object(u.jsx)(q.a,{path:"/",to:"/home",exact:!0}),Object(u.jsx)(q.b,{path:"*",component:M})]})})})}var D=n(11),J=n(43),Q=n(17),U=n(3),z={loading:!1,genres:void 0};var K=n(23),X={favorites:[]};var Y={watchlater:[]};var Z=n(24),$=n.n(Z),ee=Object(D.c)({genres:Object(Q.a)({key:"genres",storage:$.a,debug:!0},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(U.a)({},z),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(U.a)(Object(U.a)({},e),{},{genres:t.genres});case C:return Object(U.a)(Object(U.a)({},e),{},{loading:!0});case I:return t.error?Object(U.a)({},z):Object(U.a)(Object(U.a)({},e),{},{loading:!1,genres:t.genres});case W:return Object(U.a)({},z);default:return e}})),favorites:Object(Q.a)({key:"favorites",storage:$.a,debug:!0},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.TOGGLE_FAVORITE:var n=e.favorites.findIndex((function(e){return e&&e.id===t.movie.id}));if(-1===n)return Object(U.a)(Object(U.a)({},e),{},{favorites:[].concat(Object(K.a)(e.favorites),[t.movie])});var r=e.favorites.filter((function(e){return e&&e.id!==t.movie.id}));return Object(U.a)(Object(U.a)({},e),{},{favorites:r});case m.CLEAR_FAVORITES:return Object(U.a)({},X);default:return e}})),watchlater:Object(Q.a)({key:"watchlater",storage:$.a,debug:!0},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:var n=e.watchlater.findIndex((function(e){return e&&e.id===t.movie.id}));if(-1===n)return Object(U.a)(Object(U.a)({},e),{},{watchlater:[].concat(Object(K.a)(e.watchlater),[t.movie])});var r=e.watchlater.filter((function(e){return e&&e.id!==t.movie.id}));return Object(U.a)(Object(U.a)({},e),{},{watchlater:r});case p:return Object(U.a)({},Y);default:return e}}))}),te=Object(D.d)(ee,Object(D.a)(J.a)),ne=Object(Q.b)(te),re=te,ce=n(44);n(88);function ae(){return Object(u.jsxs)("div",{id:"splash-screen",children:[Object(u.jsx)("img",{src:l,alt:"Leo Movies"}),Object(u.jsx)("span",{children:"Loading..."})]})}n(89);function se(){return Object(u.jsx)(f.a,{store:re,children:Object(u.jsx)(ce.a,{persistor:ne,loading:Object(u.jsx)(ae,{}),children:Object(u.jsx)(o.a,{basename:"/leomovies/",children:Object(u.jsx)(H,{})})})})}s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(se,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.0eb2759a.chunk.js.map